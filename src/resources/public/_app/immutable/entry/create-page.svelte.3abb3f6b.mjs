import{S as Ae,i as ge,s as ye,a as d,k as c,q as C,c as b,l as p,m,r as L,h as f,n as r,b as ne,G as t,R as O,M as D,T as Pe,g as J,d as oe,f as Ce,U as Le,I as Ne,y as we,z as ke,A as Te,B as Ue,u as Re,v as Se}from"../chunks/index.6f0c0f63.mjs";import{g as be}from"../chunks/navigation.8594e275.mjs";import{u as qe}from"../chunks/api.ab561f20.mjs";import{d as Be,a as Ie}from"../chunks/dashboard.state.4d094f4e.mjs";import{L as Me}from"../chunks/Loader.f33e46d2.mjs";function ve(n){let s,a;return s=new Me({}),{c(){we(s.$$.fragment)},l(e){ke(s.$$.fragment,e)},m(e,o){Te(s,e,o),a=!0},i(e){a||(J(s.$$.fragment,e),a=!0)},o(e){oe(s.$$.fragment,e),a=!1},d(e){Ue(s,e)}}}function Ee(n){let s,a;return{c(){s=c("p"),a=C(n[4]),this.h()},l(e){s=p(e,"P",{class:!0});var o=m(s);a=L(o,n[4]),o.forEach(f),this.h()},h(){r(s,"class","error")},m(e,o){ne(e,s,o),t(s,a)},p(e,o){o&16&&Re(a,e[4])},d(e){e&&f(s)}}}function Oe(n){let s,a,e,o,N,w,y,R,G,k,K,Y,P,v,B,Q,V,E,W,T,I,X,Z,A,$,U,M,x,ee,g,te,S,ae,se,q,le,z,re,ue,u=n[3]&&ve(),_=n[4]&&Ee(n);return{c(){u&&u.c(),s=d(),a=c("main"),e=c("form"),o=c("h1"),N=C("Create"),w=d(),y=c("span"),R=C("POCKET RELAY MANAGER"),G=d(),k=c("p"),K=C("Create an account to login to the server."),Y=d(),_&&_.c(),P=d(),v=c("label"),B=c("span"),Q=C("Username"),V=d(),E=c("input"),W=d(),T=c("label"),I=c("span"),X=C("Email"),Z=d(),A=c("input"),$=d(),U=c("label"),M=c("span"),x=C("Password"),ee=d(),g=c("input"),te=d(),S=c("button"),ae=C("Create"),se=d(),q=c("a"),le=C("Login to an account"),this.h()},l(l){u&&u.l(l),s=b(l),a=p(l,"MAIN",{class:!0});var h=m(a);e=p(h,"FORM",{class:!0});var i=m(e);o=p(i,"H1",{});var ie=m(o);N=L(ie,"Create"),ie.forEach(f),w=b(i),y=p(i,"SPAN",{class:!0});var ce=m(y);R=L(ce,"POCKET RELAY MANAGER"),ce.forEach(f),G=b(i),k=p(i,"P",{class:!0});var pe=m(k);K=L(pe,"Create an account to login to the server."),pe.forEach(f),Y=b(i),_&&_.l(i),P=b(i),v=p(i,"LABEL",{class:!0});var F=m(v);B=p(F,"SPAN",{class:!0});var fe=m(B);Q=L(fe,"Username"),fe.forEach(f),V=b(F),E=p(F,"INPUT",{class:!0,type:!0,autocomplete:!0}),F.forEach(f),W=b(i),T=p(i,"LABEL",{class:!0});var H=m(T);I=p(H,"SPAN",{class:!0});var _e=m(I);X=L(_e,"Email"),_e.forEach(f),Z=b(H),A=p(H,"INPUT",{class:!0,type:!0,autocomplete:!0}),H.forEach(f),$=b(i),U=p(i,"LABEL",{class:!0});var j=m(U);M=p(j,"SPAN",{class:!0});var me=m(M);x=L(me,"Password"),me.forEach(f),ee=b(j),g=p(j,"INPUT",{class:!0,type:!0,autocomplete:!0}),j.forEach(f),te=b(i),S=p(i,"BUTTON",{type:!0,class:!0});var he=m(S);ae=L(he,"Create"),he.forEach(f),se=b(i),q=p(i,"A",{href:!0,class:!0});var de=m(q);le=L(de,"Login to an account"),de.forEach(f),i.forEach(f),h.forEach(f),this.h()},h(){r(y,"class","ident"),r(k,"class","text"),r(B,"class","input__label"),r(E,"class","input__value"),r(E,"type","text"),E.required=!0,r(E,"autocomplete","username"),r(v,"class","input"),r(I,"class","input__label"),r(A,"class","input__value"),r(A,"type","email"),A.required=!0,r(A,"autocomplete","email"),r(T,"class","input"),r(M,"class","input__label"),r(g,"class","input__value"),r(g,"type","password"),g.required=!0,r(g,"autocomplete","current-password"),r(U,"class","input"),r(S,"type","submit"),r(S,"class","button svelte-thowu9"),r(q,"href","/login"),r(q,"class","annot"),r(e,"class","form card svelte-thowu9"),r(a,"class","background svelte-thowu9")},m(l,h){u&&u.m(l,h),ne(l,s,h),ne(l,a,h),t(a,e),t(e,o),t(o,N),t(e,w),t(e,y),t(y,R),t(e,G),t(e,k),t(k,K),t(e,Y),_&&_.m(e,null),t(e,P),t(e,v),t(v,B),t(B,Q),t(v,V),t(v,E),O(E,n[0]),t(e,W),t(e,T),t(T,I),t(I,X),t(T,Z),t(T,A),O(A,n[1]),t(e,$),t(e,U),t(U,M),t(M,x),t(U,ee),t(U,g),O(g,n[2]),t(e,te),t(e,S),t(S,ae),t(e,se),t(e,q),t(q,le),z=!0,re||(ue=[D(E,"input",n[7]),D(A,"input",n[8]),D(g,"input",n[9]),D(e,"submit",Pe(n[5]))],re=!0)},p(l,[h]){l[3]?u?h&8&&J(u,1):(u=ve(),u.c(),J(u,1),u.m(s.parentNode,s)):u&&(Se(),oe(u,1,1,()=>{u=null}),Ce()),l[4]?_?_.p(l,h):(_=Ee(l),_.c(),_.m(e,P)):_&&(_.d(1),_=null),h&1&&E.value!==l[0]&&O(E,l[0]),h&2&&A.value!==l[1]&&O(A,l[1]),h&4&&g.value!==l[2]&&O(g,l[2])},i(l){z||(J(u),z=!0)},o(l){oe(u),z=!1},d(l){u&&u.d(l),l&&f(s),l&&f(a),_&&_.d(),re=!1,Le(ue)}}}function Ge(n,s,a){let e;Ne(n,Ie,P=>a(6,e=P));let o="",N="",w="",y=!1,R=null;async function G(){a(4,R=null),a(3,y=!0);try{const{token:P}=await Be(o,N,w);qe(P),await be("/")}catch(P){let v=P;console.error(v),a(4,R=v.text)}finally{a(3,y=!1)}}function k(){o=this.value,a(0,o)}function K(){N=this.value,a(1,N)}function Y(){w=this.value,a(2,w)}return n.$$.update=()=>{n.$$.dirty&64&&e&&be("/login")},[o,N,w,y,R,G,e,k,K,Y]}class je extends Ae{constructor(s){super(),ge(this,s,Ge,Oe,ye,{})}}export{je as default};
