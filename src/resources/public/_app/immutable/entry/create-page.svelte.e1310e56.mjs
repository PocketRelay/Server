import{S as be,i as ge,s as Ae,a as d,k as i,q as P,c as v,l as c,m,r as y,h as p,n as r,b as ne,G as t,R as O,M as D,T as Pe,g as J,d as oe,f as ye,U as Le,y as Ne,z as we,A as Ce,B as ke,u as Te,v as Ue}from"../chunks/index.6f0c0f63.mjs";import{g as Re}from"../chunks/navigation.5c5bc22e.mjs";import{u as Se}from"../chunks/api.15f7bc3a.mjs";import{d as qe}from"../chunks/auth.38c7c84b.mjs";import{L as Be}from"../chunks/Loader.f33e46d2.mjs";function ve(f){let a,s;return a=new Be({}),{c(){Ne(a.$$.fragment)},l(e){we(a.$$.fragment,e)},m(e,n){Ce(a,e,n),s=!0},i(e){s||(J(a.$$.fragment,e),s=!0)},o(e){oe(a.$$.fragment,e),s=!1},d(e){ke(a,e)}}}function Ee(f){let a,s;return{c(){a=i("p"),s=P(f[4]),this.h()},l(e){a=c(e,"P",{class:!0});var n=m(a);s=y(n,f[4]),n.forEach(p),this.h()},h(){r(a,"class","error")},m(e,n){ne(e,a,n),t(a,s)},p(e,n){n&16&&Te(s,e[4])},d(e){e&&p(a)}}}function Me(f){let a,s,e,n,L,T,E,G,K,N,Y,U,R,w,B,Q,V,b,W,C,M,X,Z,g,$,k,I,x,ee,A,te,S,ae,se,q,le,z,re,ue,o=f[3]&&ve(),_=f[4]&&Ee(f);return{c(){o&&o.c(),a=d(),s=i("main"),e=i("form"),n=i("h1"),L=P("Create"),T=d(),E=i("span"),G=P("POCKET RELAY MANAGER"),K=d(),N=i("p"),Y=P("Create an account to login to the server."),U=d(),_&&_.c(),R=d(),w=i("label"),B=i("span"),Q=P("Username"),V=d(),b=i("input"),W=d(),C=i("label"),M=i("span"),X=P("Email"),Z=d(),g=i("input"),$=d(),k=i("label"),I=i("span"),x=P("Password"),ee=d(),A=i("input"),te=d(),S=i("button"),ae=P("Create"),se=d(),q=i("a"),le=P("Login to an account"),this.h()},l(l){o&&o.l(l),a=v(l),s=c(l,"MAIN",{class:!0});var h=m(s);e=c(h,"FORM",{class:!0});var u=m(e);n=c(u,"H1",{});var ie=m(n);L=y(ie,"Create"),ie.forEach(p),T=v(u),E=c(u,"SPAN",{class:!0});var ce=m(E);G=y(ce,"POCKET RELAY MANAGER"),ce.forEach(p),K=v(u),N=c(u,"P",{class:!0});var pe=m(N);Y=y(pe,"Create an account to login to the server."),pe.forEach(p),U=v(u),_&&_.l(u),R=v(u),w=c(u,"LABEL",{class:!0});var F=m(w);B=c(F,"SPAN",{class:!0});var fe=m(B);Q=y(fe,"Username"),fe.forEach(p),V=v(F),b=c(F,"INPUT",{class:!0,type:!0}),F.forEach(p),W=v(u),C=c(u,"LABEL",{class:!0});var H=m(C);M=c(H,"SPAN",{class:!0});var _e=m(M);X=y(_e,"Email"),_e.forEach(p),Z=v(H),g=c(H,"INPUT",{class:!0,type:!0}),H.forEach(p),$=v(u),k=c(u,"LABEL",{class:!0});var j=m(k);I=c(j,"SPAN",{class:!0});var me=m(I);x=y(me,"Password"),me.forEach(p),ee=v(j),A=c(j,"INPUT",{class:!0,type:!0}),j.forEach(p),te=v(u),S=c(u,"BUTTON",{type:!0,class:!0});var he=m(S);ae=y(he,"Create"),he.forEach(p),se=v(u),q=c(u,"A",{href:!0,class:!0});var de=m(q);le=y(de,"Login to an account"),de.forEach(p),u.forEach(p),h.forEach(p),this.h()},h(){r(E,"class","ident"),r(N,"class","text"),r(B,"class","input__label"),r(b,"class","input__value"),r(b,"type","text"),b.required=!0,r(w,"class","input"),r(M,"class","input__label"),r(g,"class","input__value"),r(g,"type","email"),g.required=!0,r(C,"class","input"),r(I,"class","input__label"),r(A,"class","input__value"),r(A,"type","password"),A.required=!0,r(k,"class","input"),r(S,"type","submit"),r(S,"class","button svelte-thowu9"),r(q,"href","/login"),r(q,"class","annot"),r(e,"class","form card svelte-thowu9"),r(s,"class","background svelte-thowu9")},m(l,h){o&&o.m(l,h),ne(l,a,h),ne(l,s,h),t(s,e),t(e,n),t(n,L),t(e,T),t(e,E),t(E,G),t(e,K),t(e,N),t(N,Y),t(e,U),_&&_.m(e,null),t(e,R),t(e,w),t(w,B),t(B,Q),t(w,V),t(w,b),O(b,f[0]),t(e,W),t(e,C),t(C,M),t(M,X),t(C,Z),t(C,g),O(g,f[1]),t(e,$),t(e,k),t(k,I),t(I,x),t(k,ee),t(k,A),O(A,f[2]),t(e,te),t(e,S),t(S,ae),t(e,se),t(e,q),t(q,le),z=!0,re||(ue=[D(b,"input",f[6]),D(g,"input",f[7]),D(A,"input",f[8]),D(e,"submit",Pe(f[5]))],re=!0)},p(l,[h]){l[3]?o?h&8&&J(o,1):(o=ve(),o.c(),J(o,1),o.m(a.parentNode,a)):o&&(Ue(),oe(o,1,1,()=>{o=null}),ye()),l[4]?_?_.p(l,h):(_=Ee(l),_.c(),_.m(e,R)):_&&(_.d(1),_=null),h&1&&b.value!==l[0]&&O(b,l[0]),h&2&&g.value!==l[1]&&O(g,l[1]),h&4&&A.value!==l[2]&&O(A,l[2])},i(l){z||(J(o),z=!0)},o(l){oe(o),z=!1},d(l){o&&o.d(l),l&&p(a),l&&p(s),_&&_.d(),re=!1,Le(ue)}}}function Ie(f,a,s){let e="",n="",L="",T=!1,E=null;async function G(){s(4,E=null),s(3,T=!0);try{const{token:U}=await qe(e,n,L);Se(U),await Re("/")}catch(U){let R=U;console.error(R),s(4,E=R.text)}finally{s(3,T=!1)}}function K(){e=this.value,s(0,e)}function N(){n=this.value,s(1,n)}function Y(){L=this.value,s(2,L)}return[e,n,L,T,E,G,K,N,Y]}class Fe extends be{constructor(a){super(),ge(this,a,Ie,Me,Ae,{})}}export{Fe as default};
