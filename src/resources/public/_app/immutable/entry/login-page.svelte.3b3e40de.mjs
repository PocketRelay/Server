import{S as fe,i as pe,s as _e,a as E,k as p,q as y,c as b,l as _,m,r as P,h as c,n as o,b as x,G as t,R as K,M as Z,T as me,g as Y,d as ee,f as he,U as de,y as ve,z as ge,A as Ee,B as be,u as Le,v as Ae}from"../chunks/index.6f0c0f63.mjs";import{g as ke}from"../chunks/navigation.4c690b54.mjs";import{t as ye}from"../chunks/api.36344f67.mjs";import{a as Pe}from"../chunks/auth.9b187adb.mjs";import{L as Ne}from"../chunks/Loader.f33e46d2.mjs";function ue(f){let a,s;return a=new Ne({}),{c(){ve(a.$$.fragment)},l(e){ge(a.$$.fragment,e)},m(e,n){Ee(a,e,n),s=!0},i(e){s||(Y(a.$$.fragment,e),s=!0)},o(e){ee(a.$$.fragment,e),s=!1},d(e){be(a,e)}}}function ce(f){let a,s;return{c(){a=p("p"),s=y(f[3]),this.h()},l(e){a=_(e,"P",{class:!0});var n=m(a);s=P(n,f[3]),n.forEach(c),this.h()},h(){o(a,"class","error")},m(e,n){x(e,a,n),t(a,s)},p(e,n){n&8&&Le(s,e[3])},d(e){e&&c(a)}}}function Te(f){let a,s,e,n,N,T,L,q,B,d,C,$,O,A,M,z,F,v,H,k,S,j,D,g,J,w,Q,V,R,W,U,X,te,r=f[2]&&ue(),i=f[3]&&ce(f);return{c(){r&&r.c(),a=E(),s=p("main"),e=p("form"),n=p("h1"),N=y("Login"),T=E(),L=p("span"),q=y("POCKET RELAY MANAGER"),B=E(),d=p("p"),C=y("Login to an existing account on the server"),$=E(),i&&i.c(),O=E(),A=p("label"),M=p("span"),z=y("Email"),F=E(),v=p("input"),H=E(),k=p("label"),S=p("span"),j=y("Password"),D=E(),g=p("input"),J=E(),w=p("button"),Q=y("Login"),V=E(),R=p("a"),W=y("Create an account"),this.h()},l(l){r&&r.l(l),a=b(l),s=_(l,"MAIN",{class:!0});var h=m(s);e=_(h,"FORM",{class:!0});var u=m(e);n=_(u,"H1",{});var ae=m(n);N=P(ae,"Login"),ae.forEach(c),T=b(u),L=_(u,"SPAN",{class:!0});var se=m(L);q=P(se,"POCKET RELAY MANAGER"),se.forEach(c),B=b(u),d=_(u,"P",{class:!0});var le=m(d);C=P(le,"Login to an existing account on the server"),le.forEach(c),$=b(u),i&&i.l(u),O=b(u),A=_(u,"LABEL",{class:!0});var G=m(A);M=_(G,"SPAN",{class:!0});var ne=m(M);z=P(ne,"Email"),ne.forEach(c),F=b(G),v=_(G,"INPUT",{class:!0,type:!0}),G.forEach(c),H=b(u),k=_(u,"LABEL",{class:!0});var I=m(k);S=_(I,"SPAN",{class:!0});var re=m(S);j=P(re,"Password"),re.forEach(c),D=b(I),g=_(I,"INPUT",{class:!0,type:!0}),I.forEach(c),J=b(u),w=_(u,"BUTTON",{type:!0,class:!0});var oe=m(w);Q=P(oe,"Login"),oe.forEach(c),V=b(u),R=_(u,"A",{href:!0,class:!0});var ie=m(R);W=P(ie,"Create an account"),ie.forEach(c),u.forEach(c),h.forEach(c),this.h()},h(){o(L,"class","ident"),o(d,"class","text"),o(M,"class","input__label"),o(v,"class","input__value"),o(v,"type","email"),v.required=!0,o(A,"class","input"),o(S,"class","input__label"),o(g,"class","input__value"),o(g,"type","password"),g.required=!0,o(k,"class","input"),o(w,"type","submit"),o(w,"class","button svelte-gpalk5"),o(R,"href","/create"),o(R,"class","annot"),o(e,"class","form card svelte-gpalk5"),o(s,"class","background svelte-gpalk5")},m(l,h){r&&r.m(l,h),x(l,a,h),x(l,s,h),t(s,e),t(e,n),t(n,N),t(e,T),t(e,L),t(L,q),t(e,B),t(e,d),t(d,C),t(e,$),i&&i.m(e,null),t(e,O),t(e,A),t(A,M),t(M,z),t(A,F),t(A,v),K(v,f[0]),t(e,H),t(e,k),t(k,S),t(S,j),t(k,D),t(k,g),K(g,f[1]),t(e,J),t(e,w),t(w,Q),t(e,V),t(e,R),t(R,W),U=!0,X||(te=[Z(v,"input",f[5]),Z(g,"input",f[6]),Z(e,"submit",me(f[4]))],X=!0)},p(l,[h]){l[2]?r?h&4&&Y(r,1):(r=ue(),r.c(),Y(r,1),r.m(a.parentNode,a)):r&&(Ae(),ee(r,1,1,()=>{r=null}),he()),l[3]?i?i.p(l,h):(i=ce(l),i.c(),i.m(e,O)):i&&(i.d(1),i=null),h&1&&v.value!==l[0]&&K(v,l[0]),h&2&&g.value!==l[1]&&K(g,l[1])},i(l){U||(Y(r),U=!0)},o(l){ee(r),U=!1},d(l){r&&r.d(l),l&&c(a),l&&c(s),i&&i.d(),X=!1,de(te)}}}function we(f,a,s){let e="",n="",N=!1,T=null;async function L(){s(3,T=null),s(2,N=!0);try{const{token:d}=await Pe(e,n);ye(d),await ke("/")}catch(d){let C=d;console.error(C),s(3,T=C.text)}finally{s(2,N=!1)}}function q(){e=this.value,s(0,e)}function B(){n=this.value,s(1,n)}return[e,n,N,T,L,q,B]}class Be extends fe{constructor(a){super(),pe(this,a,we,Te,_e,{})}}export{Be as default};
