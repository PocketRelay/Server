import{S as ce,i as fe,s as pe,a as E,k as _,q as w,c as A,l as m,m as h,r as T,h as f,n as o,b as F,G as l,R as Y,M as $,T as _e,g as z,d as x,f as me,U as he,I as de,y as be,z as ge,A as ve,B as Ee,u as Ae,v as Le}from"../chunks/index.6f0c0f63.mjs";import{g as ke}from"../chunks/navigation.8594e275.mjs";import{u as ye}from"../chunks/api.ab561f20.mjs";import{b as Pe,a as Ne}from"../chunks/dashboard.state.4d094f4e.mjs";import{L as we}from"../chunks/Loader.f33e46d2.mjs";function oe(i){let t,a;return t=new we({}),{c(){be(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,s){ve(t,e,s),a=!0},i(e){a||(z(t.$$.fragment,e),a=!0)},o(e){x(t.$$.fragment,e),a=!1},d(e){Ee(t,e)}}}function ie(i){let t,a;return{c(){t=_("p"),a=w(i[3]),this.h()},l(e){t=m(e,"P",{class:!0});var s=h(t);a=T(s,i[3]),s.forEach(f),this.h()},h(){o(t,"class","error")},m(e,s){F(e,t,s),l(t,a)},p(e,s){s&8&&Ae(a,e[3])},d(e){e&&f(t)}}}function ue(i){let t,a;return{c(){t=_("a"),a=w("Create an account"),this.h()},l(e){t=m(e,"A",{href:!0,class:!0});var s=h(t);a=T(s,"Create an account"),s.forEach(f),this.h()},h(){o(t,"href","/create"),o(t,"class","annot")},m(e,s){F(e,t,s),l(t,a)},d(e){e&&f(t)}}}function Te(i){let t,a,e,s,k,C,v,B,I,y,L,M,O,P,S,H,j,d,D,N,q,J,Q,b,V,R,W,X,U,Z,ee,r=i[2]&&oe(),u=i[3]&&ie(i),p=!i[4]&&ue();return{c(){r&&r.c(),t=E(),a=_("main"),e=_("form"),s=_("h1"),k=w("Login"),C=E(),v=_("span"),B=w("POCKET RELAY MANAGER"),I=E(),y=_("p"),L=w("Login to an existing account on the server"),M=E(),u&&u.c(),O=E(),P=_("label"),S=_("span"),H=w("Email"),j=E(),d=_("input"),D=E(),N=_("label"),q=_("span"),J=w("Password"),Q=E(),b=_("input"),V=E(),R=_("button"),W=w("Login"),X=E(),p&&p.c(),this.h()},l(n){r&&r.l(n),t=A(n),a=m(n,"MAIN",{class:!0});var g=h(a);e=m(g,"FORM",{class:!0});var c=h(e);s=m(c,"H1",{});var te=h(s);k=T(te,"Login"),te.forEach(f),C=A(c),v=m(c,"SPAN",{class:!0});var ae=h(v);B=T(ae,"POCKET RELAY MANAGER"),ae.forEach(f),I=A(c),y=m(c,"P",{class:!0});var le=h(y);L=T(le,"Login to an existing account on the server"),le.forEach(f),M=A(c),u&&u.l(c),O=A(c),P=m(c,"LABEL",{class:!0});var G=h(P);S=m(G,"SPAN",{class:!0});var se=h(S);H=T(se,"Email"),se.forEach(f),j=A(G),d=m(G,"INPUT",{class:!0,type:!0,autocomplete:!0}),G.forEach(f),D=A(c),N=m(c,"LABEL",{class:!0});var K=h(N);q=m(K,"SPAN",{class:!0});var ne=h(q);J=T(ne,"Password"),ne.forEach(f),Q=A(K),b=m(K,"INPUT",{class:!0,type:!0,autocomplete:!0}),K.forEach(f),V=A(c),R=m(c,"BUTTON",{type:!0,class:!0});var re=h(R);W=T(re,"Login"),re.forEach(f),X=A(c),p&&p.l(c),c.forEach(f),g.forEach(f),this.h()},h(){o(v,"class","ident"),o(y,"class","text"),o(S,"class","input__label"),o(d,"class","input__value"),o(d,"type","email"),d.required=!0,o(d,"autocomplete","email"),o(P,"class","input"),o(q,"class","input__label"),o(b,"class","input__value"),o(b,"type","password"),b.required=!0,o(b,"autocomplete","current-password"),o(N,"class","input"),o(R,"type","submit"),o(R,"class","button svelte-gpalk5"),o(e,"class","form card svelte-gpalk5"),o(a,"class","background svelte-gpalk5")},m(n,g){r&&r.m(n,g),F(n,t,g),F(n,a,g),l(a,e),l(e,s),l(s,k),l(e,C),l(e,v),l(v,B),l(e,I),l(e,y),l(y,L),l(e,M),u&&u.m(e,null),l(e,O),l(e,P),l(P,S),l(S,H),l(P,j),l(P,d),Y(d,i[0]),l(e,D),l(e,N),l(N,q),l(q,J),l(N,Q),l(N,b),Y(b,i[1]),l(e,V),l(e,R),l(R,W),l(e,X),p&&p.m(e,null),U=!0,Z||(ee=[$(d,"input",i[6]),$(b,"input",i[7]),$(e,"submit",_e(i[5]))],Z=!0)},p(n,[g]){n[2]?r?g&4&&z(r,1):(r=oe(),r.c(),z(r,1),r.m(t.parentNode,t)):r&&(Le(),x(r,1,1,()=>{r=null}),me()),n[3]?u?u.p(n,g):(u=ie(n),u.c(),u.m(e,O)):u&&(u.d(1),u=null),g&1&&d.value!==n[0]&&Y(d,n[0]),g&2&&b.value!==n[1]&&Y(b,n[1]),n[4]?p&&(p.d(1),p=null):p||(p=ue(),p.c(),p.m(e,null))},i(n){U||(z(r),U=!0)},o(n){x(r),U=!1},d(n){r&&r.d(n),n&&f(t),n&&f(a),u&&u.d(),p&&p.d(),Z=!1,he(ee)}}}function Ce(i,t,a){let e;de(i,Ne,L=>a(4,e=L));let s="",k="",C=!1,v=null;async function B(){a(3,v=null),a(2,C=!0);try{const{token:L}=await Pe(s,k);ye(L),await ke("/")}catch(L){let M=L;console.error(M),a(3,v=M.text)}finally{a(2,C=!1)}}function I(){s=this.value,a(0,s)}function y(){k=this.value,a(1,k)}return[s,k,C,v,e,B,I,y]}class Ie extends ce{constructor(t){super(),fe(this,t,Ce,Te,pe,{})}}export{Ie as default};
