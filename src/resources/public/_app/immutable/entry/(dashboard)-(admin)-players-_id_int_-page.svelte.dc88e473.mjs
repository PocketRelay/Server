import{S as Vt,i as qt,s as Ft,J as Ve,e as qe,K as Fe,m as p,h as u,n as c,b as H,G as s,H as fe,q as g,r as w,u as we,d as V,f as Pe,g as O,I as Ct,v as Ae,Q as zt,y as te,a as v,z as le,c as E,A as re,B as se,k as h,l as d,L as kt,R as me,M as ee,T as Me,U as ze,V as Gt,W as Pt,N as Wt}from"../chunks/index.6f0c0f63.mjs";import{g as Kt}from"../chunks/navigation.5a8906b7.mjs";import{p as Zt}from"../chunks/stores.0424d998.mjs";import{P as _e,d as Jt,s as Qt,e as jt,f as Xt,h as Yt,p as $t}from"../chunks/api.36344f67.mjs";import{D as xt}from"../chunks/DashboardPage.c4ea9bf6.mjs";import{D as At,K as el,a as tl}from"../chunks/Delete.b3a2e8ea.mjs";import{L as Ne}from"../chunks/Loader.f33e46d2.mjs";import{A as ll}from"../chunks/Account.0033cbd6.mjs";function yt(i){let e,t;return{c(){e=Ve("desc"),t=g(i[7])},l(l){e=Fe(l,"desc",{});var r=p(e);t=w(r,i[7]),r.forEach(u)},m(l,r){H(l,e,r),s(e,t)},p(l,r){r&128&&we(t,l[7])},d(l){l&&u(e)}}}function Nt(i){let e,t;return{c(){e=Ve("title"),t=g(i[6])},l(l){e=Fe(l,"title",{});var r=p(e);t=w(r,i[6]),r.forEach(u)},m(l,r){H(l,e,r),s(e,t)},p(l,r){r&64&&we(t,l[6])},d(l){l&&u(e)}}}function rl(i){let e,t,l,r=i[7]&&yt(i),n=i[6]&&Nt(i);return{c(){e=Ve("svg"),r&&r.c(),t=qe(),n&&n.c(),l=Ve("path"),this.h()},l(o){e=Fe(o,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var a=p(e);r&&r.l(a),t=qe(),n&&n.l(a),l=Fe(a,"path",{d:!0,fill:!0}),p(l).forEach(u),a.forEach(u),this.h()},h(){c(l,"d","M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17 12C16.87 12 16.76 12.09 16.74 12.21L16.55 13.53C16.25 13.66 15.96 13.82 15.7 14L14.46 13.5C14.35 13.5 14.22 13.5 14.15 13.63L13.15 15.36C13.09 15.47 13.11 15.6 13.21 15.68L14.27 16.5C14.25 16.67 14.24 16.83 14.24 17C14.24 17.17 14.25 17.33 14.27 17.5L13.21 18.32C13.12 18.4 13.09 18.53 13.15 18.64L14.15 20.37C14.21 20.5 14.34 20.5 14.46 20.5L15.7 20C15.96 20.18 16.24 20.35 16.55 20.47L16.74 21.79C16.76 21.91 16.86 22 17 22H19C19.11 22 19.22 21.91 19.24 21.79L19.43 20.47C19.73 20.34 20 20.18 20.27 20L21.5 20.5C21.63 20.5 21.76 20.5 21.83 20.37L22.83 18.64C22.89 18.53 22.86 18.4 22.77 18.32L21.7 17.5C21.72 17.33 21.74 17.17 21.74 17C21.74 16.83 21.73 16.67 21.7 16.5L22.76 15.68C22.85 15.6 22.88 15.47 22.82 15.36L21.82 13.63C21.76 13.5 21.63 13.5 21.5 13.5L20.27 14C20 13.82 19.73 13.65 19.42 13.53L19.23 12.21C19.22 12.09 19.11 12 19 12H17M10 14C5.58 14 2 15.79 2 18V20H11.68A7 7 0 0 1 11 17A7 7 0 0 1 11.64 14.09C11.11 14.03 10.56 14 10 14M18 15.5C18.83 15.5 19.5 16.17 19.5 17C19.5 17.83 18.83 18.5 18 18.5C17.16 18.5 16.5 17.83 16.5 17C16.5 16.17 17.17 15.5 18 15.5Z"),c(l,"fill",i[2]),c(e,"viewBox",i[3]),c(e,"width",i[0]),c(e,"height",i[1]),c(e,"class",i[8]),c(e,"aria-label",i[4]),c(e,"aria-hidden",i[5])},m(o,a){H(o,e,a),r&&r.m(e,null),s(e,t),n&&n.m(e,null),s(e,l)},p(o,[a]){o[7]?r?r.p(o,a):(r=yt(o),r.c(),r.m(e,t)):r&&(r.d(1),r=null),o[6]?n?n.p(o,a):(n=Nt(o),n.c(),n.m(e,l)):n&&(n.d(1),n=null),a&4&&c(l,"fill",o[2]),a&8&&c(e,"viewBox",o[3]),a&1&&c(e,"width",o[0]),a&2&&c(e,"height",o[1]),a&256&&c(e,"class",o[8]),a&16&&c(e,"aria-label",o[4]),a&32&&c(e,"aria-hidden",o[5])},i:fe,o:fe,d(o){o&&u(e),r&&r.d(),n&&n.d()}}}function sl(i,e,t){let{size:l="1em"}=e,{width:r=l}=e,{height:n=l}=e,{color:o="currentColor"}=e,{viewBox:a="0 0 24 24"}=e,{ariaLabel:f=void 0}=e,{ariaHidden:P=void 0}=e,{title:C=void 0}=e,{desc:m=void 0}=e,{class:A=void 0}=e;return i.$$set=_=>{"size"in _&&t(9,l=_.size),"width"in _&&t(0,r=_.width),"height"in _&&t(1,n=_.height),"color"in _&&t(2,o=_.color),"viewBox"in _&&t(3,a=_.viewBox),"ariaLabel"in _&&t(4,f=_.ariaLabel),"ariaHidden"in _&&t(5,P=_.ariaHidden),"title"in _&&t(6,C=_.title),"desc"in _&&t(7,m=_.desc),"class"in _&&t(8,A=_.class)},[r,n,o,a,f,P,C,m,A,l]}class al extends Vt{constructor(e){super(),qt(this,e,sl,rl,Ft,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Lt(i,e,t){const l=i.slice();return l[7]=e[t],l}function ol(i){let e,t,l,r,n,o;return e=new xt({props:{title:`Viewing ${i[3].email}`,text:"Edit the settings for this account below",$$slots:{heading:[ul],default:[fl]},$$scope:{ctx:i}}}),l=new At({props:{visible:i[1].showConfirm,$$slots:{default:[cl]},$$scope:{ctx:i}}}),n=new At({props:{visible:i[2].showConfirm,$$slots:{default:[ml]},$$scope:{ctx:i}}}),{c(){te(e.$$.fragment),t=v(),te(l.$$.fragment),r=v(),te(n.$$.fragment)},l(a){le(e.$$.fragment,a),t=E(a),le(l.$$.fragment,a),r=E(a),le(n.$$.fragment,a)},m(a,f){re(e,a,f),H(a,t,f),re(l,a,f),H(a,r,f),re(n,a,f),o=!0},p(a,f){const P={};f&8&&(P.title=`Viewing ${a[3].email}`),f&134217935&&(P.$$scope={dirty:f,ctx:a}),e.$set(P);const C={};f&2&&(C.visible=a[1].showConfirm),f&134217730&&(C.$$scope={dirty:f,ctx:a}),l.$set(C);const m={};f&4&&(m.visible=a[2].showConfirm),f&134217732&&(m.$$scope={dirty:f,ctx:a}),n.$set(m)},i(a){o||(O(e.$$.fragment,a),O(l.$$.fragment,a),O(n.$$.fragment,a),o=!0)},o(a){V(e.$$.fragment,a),V(l.$$.fragment,a),V(n.$$.fragment,a),o=!1},d(a){se(e,a),a&&u(t),se(l,a),a&&u(r),se(n,a)}}}function nl(i){let e,t,l,r,n;return{c(){e=h("h1"),t=g("Failed to load player"),l=v(),r=h("p"),n=g(i[5]),this.h()},l(o){e=d(o,"H1",{});var a=p(e);t=w(a,"Failed to load player"),a.forEach(u),l=E(o),r=d(o,"P",{class:!0});var f=p(r);n=w(f,i[5]),f.forEach(u),this.h()},h(){c(r,"class","error")},m(o,a){H(o,e,a),s(e,t),H(o,l,a),H(o,r,a),s(r,n)},p(o,a){a&32&&we(n,o[5])},i:fe,o:fe,d(o){o&&u(e),o&&u(l),o&&u(r)}}}function il(i){let e,t;return e=new Ne({}),{c(){te(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},p:fe,i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Bt(i){let e,t=i[0].error+"",l;return{c(){e=h("p"),l=g(t),this.h()},l(r){e=d(r,"P",{class:!0});var n=p(e);l=w(n,t),n.forEach(u),this.h()},h(){c(e,"class","error")},m(r,n){H(r,e,n),s(e,l)},p(r,n){n&1&&t!==(t=r[0].error+"")&&we(l,t)},d(r){r&&u(e)}}}function Dt(i){let e,t;return e=new Ne({}),{c(){te(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Tt(i){let e,t=i[1].error+"",l;return{c(){e=h("p"),l=g(t),this.h()},l(r){e=d(r,"P",{class:!0});var n=p(e);l=w(n,t),n.forEach(u),this.h()},h(){c(e,"class","error")},m(r,n){H(r,e,n),s(e,l)},p(r,n){n&2&&t!==(t=r[1].error+"")&&we(l,t)},d(r){r&&u(e)}}}function St(i){let e,t;return e=new Ne({}),{c(){te(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function It(i){let e,t,l,r,n,o,a,f,P,C,m,A,_,z,T,L,Y;l=new al({props:{class:"form__icon"}});let y=i[7].error&&Ot(i),N=i[7].loading&&Rt(),B=i[8],S=[];for(let b=0;b<B.length;b+=1)S[b]=Ht(Lt(i,B,b));return{c(){e=h("form"),t=h("h2"),te(l.$$.fragment),r=g(`\r
                        Role`),n=v(),o=h("p"),a=g("Set the role of this account"),f=v(),y&&y.c(),P=v(),N&&N.c(),C=v(),m=h("select");for(let b=0;b<S.length;b+=1)S[b].c();A=v(),_=h("button"),z=g("Apply Role"),this.h()},l(b){e=d(b,"FORM",{class:!0});var I=p(e);t=d(I,"H2",{class:!0});var D=p(t);le(l.$$.fragment,D),r=w(D,`\r
                        Role`),D.forEach(u),n=E(I),o=d(I,"P",{class:!0});var J=p(o);a=w(J,"Set the role of this account"),J.forEach(u),f=E(I),y&&y.l(I),P=E(I),N&&N.l(I),C=E(I),m=d(I,"SELECT",{class:!0});var ne=p(m);for(let U=0;U<S.length;U+=1)S[U].l(ne);ne.forEach(u),A=E(I),_=d(I,"BUTTON",{type:!0,class:!0});var R=p(_);z=w(R,"Apply Role"),R.forEach(u),I.forEach(u),this.h()},h(){c(t,"class","form__title"),c(o,"class","text"),c(m,"class","select"),i[7].role===void 0&&Gt(()=>i[20].call(m)),c(_,"type","submit"),c(_,"class","button "),c(e,"class","form card")},m(b,I){H(b,e,I),s(e,t),re(l,t,null),s(t,r),s(e,n),s(e,o),s(o,a),s(e,f),y&&y.m(e,null),s(e,P),N&&N.m(e,null),s(e,C),s(e,m);for(let D=0;D<S.length;D+=1)S[D].m(m,null);Pt(m,i[7].role),s(e,A),s(e,_),s(_,z),T=!0,L||(Y=[ee(m,"change",i[20]),ee(e,"submit",Me(i[12]))],L=!0)},p(b,I){if(b[7].error?y?y.p(b,I):(y=Ot(b),y.c(),y.m(e,P)):y&&(y.d(1),y=null),b[7].loading?N?I&128&&O(N,1):(N=Rt(),N.c(),O(N,1),N.m(e,C)):N&&(Ae(),V(N,1,1,()=>{N=null}),Pe()),I&256){B=b[8];let D;for(D=0;D<B.length;D+=1){const J=Lt(b,B,D);S[D]?S[D].p(J,I):(S[D]=Ht(J),S[D].c(),S[D].m(m,null))}for(;D<S.length;D+=1)S[D].d(1);S.length=B.length}I&384&&Pt(m,b[7].role)},i(b){T||(O(l.$$.fragment,b),O(N),T=!0)},o(b){V(l.$$.fragment,b),V(N),T=!1},d(b){b&&u(e),se(l),y&&y.d(),N&&N.d(),Wt(S,b),L=!1,ze(Y)}}}function Ot(i){let e,t=i[2].error+"",l;return{c(){e=h("p"),l=g(t),this.h()},l(r){e=d(r,"P",{class:!0});var n=p(e);l=w(n,t),n.forEach(u),this.h()},h(){c(e,"class","error")},m(r,n){H(r,e,n),s(e,l)},p(r,n){n&4&&t!==(t=r[2].error+"")&&we(l,t)},d(r){r&&u(e)}}}function Rt(i){let e,t;return e=new Ne({}),{c(){te(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ht(i){let e,t=i[7]+"",l;return{c(){e=h("option"),l=g(t),this.h()},l(r){e=d(r,"OPTION",{});var n=p(e);l=w(n,t),n.forEach(u),this.h()},h(){e.__value=i[7],e.value=e.__value},m(r,n){H(r,e,n),s(e,l)},p:fe,d(r){r&&u(e)}}}function Ut(i){let e,t=i[2].error+"",l;return{c(){e=h("p"),l=g(t),this.h()},l(r){e=d(r,"P",{class:!0});var n=p(e);l=w(n,t),n.forEach(u),this.h()},h(){c(e,"class","error")},m(r,n){H(r,e,n),s(e,l)},p(r,n){n&4&&t!==(t=r[2].error+"")&&we(l,t)},d(r){r&&u(e)}}}function Mt(i){let e,t;return e=new Ne({}),{c(){te(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),t=!0},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function fl(i){let e,t,l,r,n,o,a,f,P,C,m,A,_,z,T,L,Y,y,N,B,S,b,I,D,J,ne,R,U,q,Le,Ge,ve,We,Ke,Be,De,ue,Ee,Ze,Je,ae,Qe,ce,Ce,je,Xe,oe,Ye,he,$e,xe,Te,G,de,pe,et,tt,be,ke,lt,rt,st,Se,Ie,ge,at,ye,ot,ct;r=new ll({props:{class:"form__icon"}});let Q=i[0].error&&Bt(i),W=i[0].loading&&Dt();q=new el({props:{class:"form__icon"}});let j=i[1].error&&Tt(i),K=i[1].loading&&St(),F=i[6].role==_e.SuperAdmin&&It(i);pe=new tl({props:{class:"form__icon"}});let X=i[2].error&&Ut(i),Z=i[2].loading&&Mt();return{c(){e=h("div"),t=h("form"),l=h("h2"),te(r.$$.fragment),n=g(" Basic Information"),o=v(),a=h("p"),f=g("Modify basic account information"),P=v(),Q&&Q.c(),C=v(),W&&W.c(),m=v(),A=h("label"),_=h("span"),z=g("Username"),T=v(),L=h("input"),Y=v(),y=h("label"),N=h("span"),B=g("Email"),S=v(),b=h("input"),I=v(),D=h("button"),J=g("Save Changes"),ne=v(),R=h("form"),U=h("h2"),te(q.$$.fragment),Le=g(" Password"),Ge=v(),ve=h("p"),We=g("Change the account password to the provided password"),Ke=v(),j&&j.c(),Be=v(),K&&K.c(),De=v(),ue=h("label"),Ee=h("span"),Ze=g("New Password"),Je=v(),ae=h("input"),Qe=v(),ce=h("label"),Ce=h("span"),je=g("Confirm Password"),Xe=v(),oe=h("input"),Ye=v(),he=h("button"),$e=g("Change Password"),xe=v(),F&&F.c(),Te=v(),G=h("form"),de=h("h2"),te(pe.$$.fragment),et=g(`\r
                    Delete Account`),tt=v(),be=h("p"),ke=h("span"),lt=g("DANGER ZONE"),rt=g(` Warning deleting an account\r
                    is perminent and cannot be reversed`),st=v(),X&&X.c(),Se=v(),Z&&Z.c(),Ie=v(),ge=h("button"),at=g("Delete Account"),this.h()},l(k){e=d(k,"DIV",{class:!0});var M=p(e);t=d(M,"FORM",{class:!0});var $=p(t);l=d($,"H2",{class:!0});var nt=p(l);le(r.$$.fragment,nt),n=w(nt," Basic Information"),nt.forEach(u),o=E($),a=d($,"P",{class:!0});var mt=p(a);f=w(mt,"Modify basic account information"),mt.forEach(u),P=E($),Q&&Q.l($),C=E($),W&&W.l($),m=E($),A=d($,"LABEL",{class:!0});var Oe=p(A);_=d(Oe,"SPAN",{class:!0});var _t=p(_);z=w(_t,"Username"),_t.forEach(u),T=E(Oe),L=d(Oe,"INPUT",{class:!0,type:!0}),Oe.forEach(u),Y=E($),y=d($,"LABEL",{class:!0});var Re=p(y);N=d(Re,"SPAN",{class:!0});var ht=p(N);B=w(ht,"Email"),ht.forEach(u),S=E(Re),b=d(Re,"INPUT",{class:!0,type:!0}),Re.forEach(u),I=E($),D=d($,"BUTTON",{type:!0,class:!0});var dt=p(D);J=w(dt,"Save Changes"),dt.forEach(u),$.forEach(u),ne=E(M),R=d(M,"FORM",{class:!0});var x=p(R);U=d(x,"H2",{class:!0});var it=p(U);le(q.$$.fragment,it),Le=w(it," Password"),it.forEach(u),Ge=E(x),ve=d(x,"P",{class:!0});var pt=p(ve);We=w(pt,"Change the account password to the provided password"),pt.forEach(u),Ke=E(x),j&&j.l(x),Be=E(x),K&&K.l(x),De=E(x),ue=d(x,"LABEL",{class:!0});var He=p(ue);Ee=d(He,"SPAN",{class:!0});var bt=p(Ee);Ze=w(bt,"New Password"),bt.forEach(u),Je=E(He),ae=d(He,"INPUT",{class:!0,type:!0,autocomplete:!0}),He.forEach(u),Qe=E(x),ce=d(x,"LABEL",{class:!0});var Ue=p(ce);Ce=d(Ue,"SPAN",{class:!0});var gt=p(Ce);je=w(gt,"Confirm Password"),gt.forEach(u),Xe=E(Ue),oe=d(Ue,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ue.forEach(u),Ye=E(x),he=d(x,"BUTTON",{type:!0,class:!0});var wt=p(he);$e=w(wt,"Change Password"),wt.forEach(u),x.forEach(u),xe=E(M),F&&F.l(M),Te=E(M),G=d(M,"FORM",{class:!0});var ie=p(G);de=d(ie,"H2",{class:!0});var ft=p(de);le(pe.$$.fragment,ft),et=w(ft,`\r
                    Delete Account`),ft.forEach(u),tt=E(ie),be=d(ie,"P",{class:!0});var ut=p(be);ke=d(ut,"SPAN",{class:!0});var vt=p(ke);lt=w(vt,"DANGER ZONE"),vt.forEach(u),rt=w(ut,` Warning deleting an account\r
                    is perminent and cannot be reversed`),ut.forEach(u),st=E(ie),X&&X.l(ie),Se=E(ie),Z&&Z.l(ie),Ie=E(ie),ge=d(ie,"BUTTON",{type:!0,class:!0});var Et=p(ge);at=w(Et,"Delete Account"),Et.forEach(u),ie.forEach(u),M.forEach(u),this.h()},h(){c(l,"class","form__title"),c(a,"class","text"),c(_,"class","input__label"),c(L,"class","input__value"),c(L,"type","text"),L.required=!0,c(A,"class","input"),c(N,"class","input__label"),c(b,"class","input__value"),c(b,"type","email"),b.required=!0,c(y,"class","input"),c(D,"type","submit"),c(D,"class","button"),c(t,"class","form card"),c(U,"class","form__title"),c(ve,"class","text"),c(Ee,"class","input__label"),c(ae,"class","input__value"),c(ae,"type","password"),ae.required=!0,c(ae,"autocomplete","off"),c(ue,"class","input"),c(Ce,"class","input__label"),c(oe,"class","input__value"),c(oe,"type","password"),oe.required=!0,c(oe,"autocomplete","off"),c(ce,"class","input"),c(he,"type","submit"),c(he,"class","button"),c(R,"class","form card"),c(de,"class","form__title"),c(ke,"class","danger"),c(be,"class","text"),c(ge,"type","submit"),c(ge,"class","button button--danger"),c(G,"class","form card"),kt(G,"form--wide",i[6].role!==_e.SuperAdmin),c(e,"class","forms")},m(k,M){H(k,e,M),s(e,t),s(t,l),re(r,l,null),s(l,n),s(t,o),s(t,a),s(a,f),s(t,P),Q&&Q.m(t,null),s(t,C),W&&W.m(t,null),s(t,m),s(t,A),s(A,_),s(_,z),s(A,T),s(A,L),me(L,i[3].display_name),s(t,Y),s(t,y),s(y,N),s(N,B),s(y,S),s(y,b),me(b,i[3].email),s(t,I),s(t,D),s(D,J),s(e,ne),s(e,R),s(R,U),re(q,U,null),s(U,Le),s(R,Ge),s(R,ve),s(ve,We),s(R,Ke),j&&j.m(R,null),s(R,Be),K&&K.m(R,null),s(R,De),s(R,ue),s(ue,Ee),s(Ee,Ze),s(ue,Je),s(ue,ae),me(ae,i[1].new),s(R,Qe),s(R,ce),s(ce,Ce),s(Ce,je),s(ce,Xe),s(ce,oe),me(oe,i[1].confirm),s(R,Ye),s(R,he),s(he,$e),s(e,xe),F&&F.m(e,null),s(e,Te),s(e,G),s(G,de),re(pe,de,null),s(de,et),s(G,tt),s(G,be),s(be,ke),s(ke,lt),s(be,rt),s(G,st),X&&X.m(G,null),s(G,Se),Z&&Z.m(G,null),s(G,Ie),s(G,ge),s(ge,at),ye=!0,ot||(ct=[ee(L,"input",i[16]),ee(b,"input",i[17]),ee(t,"submit",Me(i[10])),ee(ae,"input",i[18]),ee(oe,"input",i[19]),ee(R,"submit",Me(i[14])),ee(G,"submit",Me(i[15]))],ot=!0)},p(k,M){k[0].error?Q?Q.p(k,M):(Q=Bt(k),Q.c(),Q.m(t,C)):Q&&(Q.d(1),Q=null),k[0].loading?W?M&1&&O(W,1):(W=Dt(),W.c(),O(W,1),W.m(t,m)):W&&(Ae(),V(W,1,1,()=>{W=null}),Pe()),M&8&&L.value!==k[3].display_name&&me(L,k[3].display_name),M&8&&b.value!==k[3].email&&me(b,k[3].email),k[1].error?j?j.p(k,M):(j=Tt(k),j.c(),j.m(R,Be)):j&&(j.d(1),j=null),k[1].loading?K?M&2&&O(K,1):(K=St(),K.c(),O(K,1),K.m(R,De)):K&&(Ae(),V(K,1,1,()=>{K=null}),Pe()),M&2&&ae.value!==k[1].new&&me(ae,k[1].new),M&2&&oe.value!==k[1].confirm&&me(oe,k[1].confirm),k[6].role==_e.SuperAdmin?F?(F.p(k,M),M&64&&O(F,1)):(F=It(k),F.c(),O(F,1),F.m(e,Te)):F&&(Ae(),V(F,1,1,()=>{F=null}),Pe()),k[2].error?X?X.p(k,M):(X=Ut(k),X.c(),X.m(G,Se)):X&&(X.d(1),X=null),k[2].loading?Z?M&4&&O(Z,1):(Z=Mt(),Z.c(),O(Z,1),Z.m(G,Ie)):Z&&(Ae(),V(Z,1,1,()=>{Z=null}),Pe()),(!ye||M&64)&&kt(G,"form--wide",k[6].role!==_e.SuperAdmin)},i(k){ye||(O(r.$$.fragment,k),O(W),O(q.$$.fragment,k),O(K),O(F),O(pe.$$.fragment,k),O(Z),ye=!0)},o(k){V(r.$$.fragment,k),V(W),V(q.$$.fragment,k),V(K),V(F),V(pe.$$.fragment,k),V(Z),ye=!1},d(k){k&&u(e),se(r),Q&&Q.d(),W&&W.d(),se(q),j&&j.d(),K&&K.d(),F&&F.d(),se(pe),X&&X.d(),Z&&Z.d(),ot=!1,ze(ct)}}}function ul(i){let e,t,l,r,n,o,a,f,P;return{c(){e=h("nav"),t=h("a"),l=g("Back"),r=v(),n=h("a"),o=g("Edit Inventory"),a=v(),f=h("a"),P=g("Edit Classes"),this.h()},l(C){e=d(C,"NAV",{class:!0});var m=p(e);t=d(m,"A",{href:!0,class:!0});var A=p(t);l=w(A,"Back"),A.forEach(u),r=E(m),n=d(m,"A",{href:!0,class:!0});var _=p(n);o=w(_,"Edit Inventory"),_.forEach(u),a=E(m),f=d(m,"A",{href:!0,class:!0});var z=p(f);P=w(z,"Edit Classes"),z.forEach(u),m.forEach(u),this.h()},h(){c(t,"href","/players"),c(t,"class","button button--dark "),c(n,"href",`/players/${i[9]}/inventory`),c(n,"class","button button--dark "),c(f,"href",`/players/${i[9]}/classes`),c(f,"class","button button--dark "),c(e,"class","button-group")},m(C,m){H(C,e,m),s(e,t),s(t,l),s(e,r),s(e,n),s(n,o),s(e,a),s(e,f),s(f,P)},p:fe,d(C){C&&u(e)}}}function cl(i){let e,t,l,r,n,o,a,f,P,C,m,A,_,z;return{c(){e=h("h3"),t=g("Confirm Change Password"),l=v(),r=h("p"),n=g("Are you sure you want to change your account password?"),o=v(),a=h("div"),f=h("button"),P=g("Confirm"),C=v(),m=h("button"),A=g("Cancel"),this.h()},l(T){e=d(T,"H3",{});var L=p(e);t=w(L,"Confirm Change Password"),L.forEach(u),l=E(T),r=d(T,"P",{class:!0});var Y=p(r);n=w(Y,"Are you sure you want to change your account password?"),Y.forEach(u),o=E(T),a=d(T,"DIV",{class:!0});var y=p(a);f=d(y,"BUTTON",{class:!0});var N=p(f);P=w(N,"Confirm"),N.forEach(u),C=E(y),m=d(y,"BUTTON",{class:!0});var B=p(m);A=w(B,"Cancel"),B.forEach(u),y.forEach(u),this.h()},h(){c(r,"class","text"),c(f,"class","button button--dark"),c(m,"class","button button--dark"),c(a,"class","button-group")},m(T,L){H(T,e,L),s(e,t),H(T,l,L),H(T,r,L),s(r,n),H(T,o,L),H(T,a,L),s(a,f),s(f,P),s(a,C),s(a,m),s(m,A),_||(z=[ee(f,"click",i[11]),ee(m,"click",i[21])],_=!0)},p:fe,d(T){T&&u(e),T&&u(l),T&&u(r),T&&u(o),T&&u(a),_=!1,ze(z)}}}function ml(i){let e,t,l,r,n,o,a,f,P,C,m,A,_,z,T,L,Y,y,N;return{c(){e=h("h3"),t=g("Confirm Account Deletion"),l=v(),r=h("p"),n=h("span"),o=g("WARNING:"),a=g(` Account Deletion is\r
            `),f=h("b"),P=g("perminent"),C=g(" and cannot be reversed"),m=v(),A=h("div"),_=h("button"),z=g("Confirm"),T=v(),L=h("button"),Y=g("Cancel"),this.h()},l(B){e=d(B,"H3",{});var S=p(e);t=w(S,"Confirm Account Deletion"),S.forEach(u),l=E(B),r=d(B,"P",{class:!0});var b=p(r);n=d(b,"SPAN",{class:!0});var I=p(n);o=w(I,"WARNING:"),I.forEach(u),a=w(b,` Account Deletion is\r
            `),f=d(b,"B",{});var D=p(f);P=w(D,"perminent"),D.forEach(u),C=w(b," and cannot be reversed"),b.forEach(u),m=E(B),A=d(B,"DIV",{class:!0});var J=p(A);_=d(J,"BUTTON",{class:!0});var ne=p(_);z=w(ne,"Confirm"),ne.forEach(u),T=E(J),L=d(J,"BUTTON",{class:!0});var R=p(L);Y=w(R,"Cancel"),R.forEach(u),J.forEach(u),this.h()},h(){c(n,"class","danger"),c(r,"class","text"),c(_,"class","button button--danger"),c(L,"class","button button--dark"),c(A,"class","button-group")},m(B,S){H(B,e,S),s(e,t),H(B,l,S),H(B,r,S),s(r,n),s(n,o),s(r,a),s(r,f),s(f,P),s(r,C),H(B,m,S),H(B,A,S),s(A,_),s(_,z),s(A,T),s(A,L),s(L,Y),y||(N=[ee(_,"click",i[13]),ee(L,"click",i[22])],y=!0)},p:fe,d(B){B&&u(e),B&&u(l),B&&u(r),B&&u(m),B&&u(A),y=!1,ze(N)}}}function _l(i){let e,t,l,r;const n=[il,nl,ol],o=[];function a(f,P){return f[4]?0:f[5]?1:f[3]?2:-1}return~(e=a(i))&&(t=o[e]=n[e](i)),{c(){t&&t.c(),l=qe()},l(f){t&&t.l(f),l=qe()},m(f,P){~e&&o[e].m(f,P),H(f,l,P),r=!0},p(f,[P]){let C=e;e=a(f),e===C?~e&&o[e].p(f,P):(t&&(Ae(),V(o[C],1,1,()=>{o[C]=null}),Pe()),~e?(t=o[e],t?t.p(f,P):(t=o[e]=n[e](f),t.c()),O(t,1),t.m(l.parentNode,l)):t=null)},i(f){r||(O(t),r=!0)},o(f){V(t),r=!1},d(f){~e&&o[e].d(f),f&&u(l)}}}function hl(i,e,t){let l,r;Ct(i,Zt,U=>t(23,l=U)),Ct(i,$t,U=>t(6,r=U));const n={loading:!1,error:null},o={new:"",confirm:"",showConfirm:!1,loading:!1,error:null},a={showConfirm:!1,loading:!1,error:null},f={role:_e.Default,loading:!1,error:null},P=[_e.Default,_e.Admin],C=parseInt(l.params.id);if(Number.isNaN(C))throw"NaN Player ID";let m=null,A=!1,_=null;async function z(U){t(5,_=null),t(4,A=!0);try{let q=await Jt(U);t(3,m=q),m.role!=_e.SuperAdmin&&t(7,f.role=m.role,f)}catch(q){t(5,_=q.text),console.error(q)}finally{t(4,A=!1)}}async function T(){if(m){t(0,n.error=null,n),t(0,n.loading=!0,n);try{await Qt(m.id,m.display_name,m.email)}catch(U){let q=U;t(0,n.error=q.text,n),console.error(U)}finally{t(0,n.loading=!1,n)}}}async function L(){if(m){if(t(1,o.showConfirm=!1,o),o.new!==o.confirm){t(1,o.error="Passwords don't match",o);return}t(1,o.error=null,o),t(1,o.loading=!0,o);try{await jt(m.id,o.new)}catch(U){let q=U;t(1,o.error=q.text,o),console.error(q)}finally{t(1,o.loading=!1,o)}}}async function Y(){if(m){t(7,f.error=null,f),t(7,f.loading=!0,f);try{await Xt(m.id,f.role)}catch(U){let q=U;t(7,f.error=q.text,f),console.error(q)}finally{t(7,f.loading=!1,f)}}}async function y(){if(m){t(2,a.showConfirm=!1,a),t(2,a.error=null,a),t(2,a.loading=!0,a);try{await Yt(m.id),await Kt("/players")}catch(U){let q=U;t(2,a.error=q.text,a),console.error(q)}finally{t(2,a.loading=!1,a)}}}function N(){if(o.new!==o.confirm){t(1,o.error="Passwords don't match",o);return}if(o.new.length<=0||o.confirm.length<=0){t(1,o.error="Passwords cannot be empty",o);return}t(1,o.showConfirm=!0,o)}function B(){t(2,a.showConfirm=!0,a)}z(C);function S(){m.display_name=this.value,t(3,m)}function b(){m.email=this.value,t(3,m)}function I(){o.new=this.value,t(1,o)}function D(){o.confirm=this.value,t(1,o)}function J(){f.role=zt(this),t(7,f),t(8,P)}return[n,o,a,m,A,_,r,f,P,C,T,L,Y,y,N,B,S,b,I,D,J,()=>t(1,o.showConfirm=!1,o),()=>t(2,a.showConfirm=!1,a)]}class kl extends Vt{constructor(e){super(),qt(this,e,hl,_l,Ft,{})}}export{kl as default};
