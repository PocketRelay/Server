import{S as Fe,i as Pe,s as Te,k as d,a as M,l as v,m as b,h,c as I,n as g,b as F,G as _,H as ne,N as le,I as Ge,q as E,r as y,X as me,u as T,y as Q,z as j,A as X,g as C,d as S,B as Z,v as Ce,f as De,w as ue,O as fe,e as K,P as pe}from"../chunks/index.6f0c0f63.mjs";import{r as Se,H as we,p as Ae,i as _e}from"../chunks/api.36344f67.mjs";import{D as Ne}from"../chunks/DashboardPage.c4ea9bf6.mjs";import{L as Re}from"../chunks/Loader.f33e46d2.mjs";import{Q as Ve}from"../chunks/QueryPagination.d8a75d00.mjs";function He(r,e){return Se({method:we.GET,route:`games?offset=${r}&count=${e}`})}const Le="ME3gameEnemyType",Be="ME3gameDifficulty",Ue="ME3map",ze="ME3privacy";function he(r){return[We(r),Ke(r),Ye(r),Je(r)]}function We(r){const e=r[ze];return ge[e??"PUBLIC"]??ge.PUBLIC}const ge={PUBLIC:{name:"Public",image:"OptTeamPublic"},PRIVATE:{name:"Private",image:"OptTeamPrivate"},FRIENDS:{name:"Friends",image:"OptTeamFriends"}};function Ye(r){const e=r[Le];return de[e??"random"]??de.random}const de={random:{name:"Any Enemy",image:"OptEmyRandom"},enemy1:{name:"Cerberus",image:"OptEmyCerberus"},enemy2:{name:"Geth",image:"OptEmyGeth"},enemy3:{name:"Reapers",image:"OptEmyReapers"},enemy4:{name:"Collectors",image:"OptEmyCollector"}};function Je(r){const e=r[Be];return ve[e??"random"]??ve.random}const ve={random:{name:"Any Challenge",image:"OptChallgRandom"},difficulty0:{name:"Bronze",image:"OptChallgBrnz"},difficulty1:{name:"Silver",image:"OptChallgSilver"},difficulty2:{name:"Gold",image:"OptChallgGold"},difficulty3:{name:"Platinum",image:"OptChallgPlatinum"}};function Ke(r){const e=r[Ue];return Qe[e??"random"]??se}const se={name:"Unknown Location",location:"?",image:"OptMapRandom"},Qe={map0:se,random:se,map2:{name:"Firebase Dagger",location:"Ontarom",image:"OptMapDish"},map3:{name:"Firebase Ghost",location:"Benning",image:"OptMapSlum"},map4:{name:"Firebase Giant",location:"Tuchanka",image:"OptMapTowr"},map5:{name:"Firebase Reactor",location:"Cyone",image:"OptMapRctr"},map7:{name:"Firebase Glacier",location:"Sanctum",image:"OptMapCer"},map8:{name:"Firebase White",location:"Noveria",image:"OptMapNoveria"},map9:{name:"Firebase Condor",location:"Paleven",image:"OptMapMoon"},map10:{name:"Firebase Hydra",location:"Arvuna",image:"OptMapGeth"},map11:{name:"Firebase Jade",location:"Sur'Kesh",image:"OptMapJade"},map13:{name:"Firebase Goddess",location:"Thessia",image:"OptMapGoddess"},map14:{name:"Firebase Rio",location:"Earth",image:"OptMapRio"},map15:{name:"Firebase Vancouver",location:"Earth",image:"OptMapHosp"},map16:{name:"Firebase London",location:"Earth",image:"OptMapLondon"},map17:{name:"☣ Firebase Glacier ☣",location:"Sanctum",image:"OptMapSwarm"},map18:{name:"☣ Firebase Dagger ☣",location:"Ontarom",image:"OptMapSandstorm"},map19:{name:"☣ Firebase Reactor ☣",location:"Cyone",image:"OptMapMeltdown"},map20:{name:"☣ Firebase Ghost ☣",location:"Benning",image:"OptMapAcid"},map21:{name:"☣ Firebase Giant ☣",location:"Tuchanka",image:"OptMapTower"},map22:{name:"☣ Firebase White ☣",location:"Noveria",image:"OptMapSnowstorm"}};function be(r,e,a){const t=r.slice();return t[3]=e[a],t[5]=a,t}function qe(r,e,a){const t=r.slice();return t[6]=e[a],t}function Ee(r){let e,a=r[6].location+"",t;return{c(){e=d("p"),t=E(a),this.h()},l(n){e=v(n,"P",{class:!0});var f=b(e);t=y(f,a),f.forEach(h),this.h()},h(){g(e,"class","banner__text__loc svelte-79qnq6")},m(n,f){F(n,e,f),_(e,t)},p(n,f){f&2&&a!==(a=n[6].location+"")&&T(t,a)},d(n){n&&h(e)}}}function ye(r){let e,a,t,n,f,s,u,o=r[6].name+"",i,c,l,m=r[6].location&&Ee(r);return{c(){e=d("div"),a=d("img"),f=M(),s=d("div"),u=d("h2"),i=E(o),c=M(),m&&m.c(),l=M(),this.h()},l(p){e=v(p,"DIV",{class:!0});var q=b(e);a=v(q,"IMG",{class:!0,src:!0,alt:!0}),f=I(q),s=v(q,"DIV",{class:!0});var $=b(s);u=v($,"H2",{class:!0});var P=b(u);i=y(P,o),P.forEach(h),c=I($),m&&m.l($),$.forEach(h),l=I(q),q.forEach(h),this.h()},h(){g(a,"class","banner__img svelte-79qnq6"),me(a.src,t=`/assets/banners/${r[6].image}.webp`)||g(a,"src",t),g(a,"alt",n=r[6].name),g(u,"class","banner__text__name svelte-79qnq6"),g(s,"class","banner__text svelte-79qnq6"),g(e,"class","banner svelte-79qnq6")},m(p,q){F(p,e,q),_(e,a),_(e,f),_(e,s),_(s,u),_(u,i),_(s,c),m&&m.m(s,null),_(e,l)},p(p,q){q&2&&!me(a.src,t=`/assets/banners/${p[6].image}.webp`)&&g(a,"src",t),q&2&&n!==(n=p[6].name)&&g(a,"alt",n),q&2&&o!==(o=p[6].name+"")&&T(i,o),p[6].location?m?m.p(p,q):(m=Ee(p),m.c(),m.m(s,null)):m&&(m.d(1),m=null)},d(p){p&&h(e),m&&m.d()}}}function je(r){let e,a;return{c(){e=d("span"),a=E("Host"),this.h()},l(t){e=v(t,"SPAN",{class:!0});var n=b(e);a=y(n,"Host"),n.forEach(h),this.h()},h(){g(e,"class","host svelte-79qnq6")},m(t,n){F(t,e,n),_(e,a)},d(t){t&&h(e)}}}function Oe(r){let e,a,t,n,f,s,u=r[3].net.groups.internal.address+"",o,i,c=r[3].net.groups.internal.port+"",l,m,p,q,$,P,D,N=r[3].net.groups.external.address+"",H,x,R=r[3].net.groups.external.port+"",L,ee,G,w,te,ae,A,V=r[3].net.qos.natt+"",B;return{c(){e=d("div"),a=d("div"),t=d("h5"),n=E("Internal"),f=M(),s=d("p"),o=E(u),i=E(":"),l=E(c),m=M(),p=d("div"),q=d("h5"),$=E("External"),P=M(),D=d("p"),H=E(N),x=E(":"),L=E(R),ee=M(),G=d("div"),w=d("h5"),te=E("Natt Type"),ae=M(),A=d("p"),B=E(V),this.h()},l(k){e=v(k,"DIV",{class:!0});var O=b(e);a=v(O,"DIV",{class:!0});var U=b(a);t=v(U,"H5",{class:!0});var re=b(t);n=y(re,"Internal"),re.forEach(h),f=I(U),s=v(U,"P",{class:!0});var z=b(s);o=y(z,u),i=y(z,":"),l=y(z,c),z.forEach(h),U.forEach(h),m=I(O),p=v(O,"DIV",{class:!0});var W=b(p);q=v(W,"H5",{class:!0});var oe=b(q);$=y(oe,"External"),oe.forEach(h),P=I(W),D=v(W,"P",{class:!0});var Y=b(D);H=y(Y,N),x=y(Y,":"),L=y(Y,R),Y.forEach(h),W.forEach(h),ee=I(O),G=v(O,"DIV",{class:!0});var J=b(G);w=v(J,"H5",{class:!0});var ie=b(w);te=y(ie,"Natt Type"),ie.forEach(h),ae=I(J),A=v(J,"P",{class:!0});var ce=b(A);B=y(ce,V),ce.forEach(h),J.forEach(h),O.forEach(h),this.h()},h(){g(t,"class","net-group__title svelte-79qnq6"),g(s,"class","net-group__value svelte-79qnq6"),g(a,"class","net-group svelte-79qnq6"),g(q,"class","net-group__title svelte-79qnq6"),g(D,"class","net-group__value svelte-79qnq6"),g(p,"class","net-group svelte-79qnq6"),g(w,"class","net-group__title svelte-79qnq6"),g(A,"class","net-group__value svelte-79qnq6"),g(G,"class","net-group svelte-79qnq6"),g(e,"class","net-groups svelte-79qnq6")},m(k,O){F(k,e,O),_(e,a),_(a,t),_(t,n),_(a,f),_(a,s),_(s,o),_(s,i),_(s,l),_(e,m),_(e,p),_(p,q),_(q,$),_(p,P),_(p,D),_(D,H),_(D,x),_(D,L),_(e,ee),_(e,G),_(G,w),_(w,te),_(G,ae),_(G,A),_(A,B)},p(k,O){O&1&&u!==(u=k[3].net.groups.internal.address+"")&&T(o,u),O&1&&c!==(c=k[3].net.groups.internal.port+"")&&T(l,c),O&1&&N!==(N=k[3].net.groups.external.address+"")&&T(H,N),O&1&&R!==(R=k[3].net.groups.external.port+"")&&T(L,R),O&1&&V!==(V=k[3].net.qos.natt+"")&&T(B,V)},d(k){k&&h(e)}}}function $e(r){let e,a,t=r[3].display_name+"",n,f,s,u=_e(r[2])&&r[3].net&&r[3].net.groups,o,i=r[5]==0&&je(),c=u&&Oe(r);return{c(){e=d("div"),a=d("h4"),n=E(t),f=M(),i&&i.c(),s=M(),c&&c.c(),o=M(),this.h()},l(l){e=v(l,"DIV",{class:!0});var m=b(e);a=v(m,"H4",{});var p=b(a);n=y(p,t),f=I(p),i&&i.l(p),p.forEach(h),s=I(m),c&&c.l(m),o=I(m),m.forEach(h),this.h()},h(){g(e,"class","player svelte-79qnq6")},m(l,m){F(l,e,m),_(e,a),_(a,n),_(a,f),i&&i.m(a,null),_(e,s),c&&c.m(e,null),_(e,o)},p(l,m){m&1&&t!==(t=l[3].display_name+"")&&T(n,t),m&5&&(u=_e(l[2])&&l[3].net&&l[3].net.groups),u?c?c.p(l,m):(c=Oe(l),c.c(),c.m(e,o)):c&&(c.d(1),c=null)},d(l){l&&h(e),i&&i.d(),c&&c.d()}}}function Xe(r){let e,a,t,n,f=r[1],s=[];for(let i=0;i<f.length;i+=1)s[i]=ye(qe(r,f,i));let u=r[0].players,o=[];for(let i=0;i<u.length;i+=1)o[i]=$e(be(r,u,i));return{c(){e=d("div"),a=d("div");for(let i=0;i<s.length;i+=1)s[i].c();t=M(),n=d("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);a=v(c,"DIV",{class:!0});var l=b(a);for(let p=0;p<s.length;p+=1)s[p].l(l);l.forEach(h),t=I(c),n=v(c,"DIV",{class:!0});var m=b(n);for(let p=0;p<o.length;p+=1)o[p].l(m);m.forEach(h),c.forEach(h),this.h()},h(){g(a,"class","banners"),g(n,"class","players svelte-79qnq6"),g(e,"class","card game svelte-79qnq6")},m(i,c){F(i,e,c),_(e,a);for(let l=0;l<s.length;l+=1)s[l].m(a,null);_(e,t),_(e,n);for(let l=0;l<o.length;l+=1)o[l].m(n,null)},p(i,[c]){if(c&2){f=i[1];let l;for(l=0;l<f.length;l+=1){const m=qe(i,f,l);s[l]?s[l].p(m,c):(s[l]=ye(m),s[l].c(),s[l].m(a,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=f.length}if(c&5){u=i[0].players;let l;for(l=0;l<u.length;l+=1){const m=be(i,u,l);o[l]?o[l].p(m,c):(o[l]=$e(m),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=u.length}},i:ne,o:ne,d(i){i&&h(e),le(s,i),le(o,i)}}}function Ze(r,e,a){let t;Ge(r,Ae,s=>a(2,t=s));let{game:n}=e,f=he(n.attributes);return r.$$set=s=>{"game"in s&&a(0,n=s.game)},r.$$.update=()=>{r.$$.dirty&1&&a(1,f=he(n.attributes))},[n,f,t]}class xe extends Fe{constructor(e){super(),Pe(this,e,Ze,Xe,Te,{game:0})}}function Me(r,e,a){const t=r.slice();return t[10]=e[a],t}function et(r){let e,a,t=r[4],n=[];for(let s=0;s<t.length;s+=1)n[s]=Ie(Me(r,t,s));const f=s=>S(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=K()},l(s){for(let u=0;u<n.length;u+=1)n[u].l(s);e=K()},m(s,u){for(let o=0;o<n.length;o+=1)n[o].m(s,u);F(s,e,u),a=!0},p(s,u){if(u&16){t=s[4];let o;for(o=0;o<t.length;o+=1){const i=Me(s,t,o);n[o]?(n[o].p(i,u),C(n[o],1)):(n[o]=Ie(i),n[o].c(),C(n[o],1),n[o].m(e.parentNode,e))}for(Ce(),o=t.length;o<n.length;o+=1)f(o);De()}},i(s){if(!a){for(let u=0;u<t.length;u+=1)C(n[u]);a=!0}},o(s){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)S(n[u]);a=!1},d(s){le(n,s),s&&h(e)}}}function tt(r){let e,a;return e=new Re({}),{c(){Q(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){X(e,t,n),a=!0},p:ne,i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){Z(e,t)}}}function Ie(r){let e,a;return e=new xe({props:{game:r[10]}}),{c(){Q(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){X(e,t,n),a=!0},p(t,n){const f={};n&16&&(f.game=t[10]),e.$set(f)},i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){Z(e,t)}}}function at(r){let e,a,t,n;const f=[tt,et],s=[];function u(o,i){return o[2]?0:1}return a=u(r),t=s[a]=f[a](r),{c(){e=d("div"),t.c(),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=b(e);t.l(i),i.forEach(h),this.h()},h(){g(e,"class","games svelte-67ppj6")},m(o,i){F(o,e,i),s[a].m(e,null),n=!0},p(o,i){let c=a;a=u(o),a===c?s[a].p(o,i):(Ce(),S(s[c],1,1,()=>{s[c]=null}),De(),t=s[a],t?t.p(o,i):(t=s[a]=f[a](o),t.c()),C(t,1),t.m(e,null))},i(o){n||(C(t),n=!0)},o(o){S(t),n=!1},d(o){o&&h(e),s[a].d()}}}function ke(r){let e,a;return{c(){e=d("p"),a=E(r[3]),this.h()},l(t){e=v(t,"P",{class:!0});var n=b(e);a=y(n,r[3]),n.forEach(h),this.h()},h(){g(e,"class","error")},m(t,n){F(t,e,n),_(e,a)},p(t,n){n&8&&T(a,t[3])},d(t){t&&h(e)}}}function nt(r){let e,a,t,n,f,s;function u(l){r[7](l)}function o(l){r[8](l)}let i={more:r[5]};r[0]!==void 0&&(i.count=r[0]),r[1]!==void 0&&(i.offset=r[1]),e=new Ve({props:i}),ue.push(()=>fe(e,"count",u)),ue.push(()=>fe(e,"offset",o)),e.$on("refresh",r[6]);let c=r[3]&&ke(r);return{c(){Q(e.$$.fragment),n=M(),c&&c.c(),f=K()},l(l){j(e.$$.fragment,l),n=I(l),c&&c.l(l),f=K()},m(l,m){X(e,l,m),F(l,n,m),c&&c.m(l,m),F(l,f,m),s=!0},p(l,m){const p={};m&32&&(p.more=l[5]),!a&&m&1&&(a=!0,p.count=l[0],pe(()=>a=!1)),!t&&m&2&&(t=!0,p.offset=l[1],pe(()=>t=!1)),e.$set(p),l[3]?c?c.p(l,m):(c=ke(l),c.c(),c.m(f.parentNode,f)):c&&(c.d(1),c=null)},i(l){s||(C(e.$$.fragment,l),s=!0)},o(l){S(e.$$.fragment,l),s=!1},d(l){Z(e,l),l&&h(n),c&&c.d(l),l&&h(f)}}}function lt(r){let e,a;return e=new Ne({props:{title:"Games",text:"Below is a list of games that are currently running",$$slots:{heading:[nt],default:[at]},$$scope:{ctx:r}}}),{c(){Q(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){X(e,t,n),a=!0},p(t,[n]){const f={};n&8255&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){Z(e,t)}}}function st(r,e,a){let t=!0,n=null,f=[],s=!1,u=10,o=0;async function i(p,q){a(2,t=!0),a(3,n=null);try{let $=await He(p,q);a(4,f=$.games),a(5,s=$.more)}catch($){let P=$;console.error(P),a(3,n=P.text)}finally{a(2,t=!1)}}function c(){i(o,u)}function l(p){u=p,a(0,u)}function m(p){o=p,a(1,o)}return r.$$.update=()=>{r.$$.dirty&3&&i(o,u)},[u,o,t,n,f,s,c,l,m]}class ut extends Fe{constructor(e){super(),Pe(this,e,st,lt,Te,{})}}export{ut as default};
