import{S as ce,i as ue,s as fe,k as v,q as T,a as D,l as y,m as E,r as q,h,c as S,X as te,n as d,b as N,G as m,u as Y,H as z,I as _e,Y as G,R,M as J,e as W,v as K,d as L,f as Q,g as A,o as ve,C as ye,D as ge,E as ke,F as Ee,y as pe,z as he,A as me,B as de,N as Ie,w as se,O as ne,P as oe}from"./index.6f0c0f63.mjs";import{p as be,i as X,j as Pe,k as Ne}from"./api.36344f67.mjs";import{p as we,e as Ce}from"./parser.6b777c18.mjs";import{L as De}from"./Loader.f33e46d2.mjs";function Se(r){let e,s;return{c(){e=v("span"),s=T(r[0]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var t=E(e);s=q(t,r[0]),t.forEach(h),this.h()},h(){d(e,"class","annot")},m(n,t){N(n,e,t),m(e,s)},p(n,t){t&1&&Y(s,n[0])},d(n){n&&h(e)}}}function Ae(r){let e,s,n,t,i,o;return{c(){e=v("label"),s=v("span"),n=D(),t=v("input"),this.h()},l(a){e=y(a,"LABEL",{class:!0});var l=E(e);s=y(l,"SPAN",{class:!0}),E(s).forEach(h),n=S(l),t=y(l,"INPUT",{type:!0,class:!0,min:!0,max:!0}),l.forEach(h),this.h()},h(){d(s,"class","input__label"),d(t,"type","number"),d(t,"class","input__value"),d(t,"min",1),d(t,"max",20),d(e,"class","input")},m(a,l){N(a,e,l),m(e,s),m(e,n),m(e,t),R(t,r[0]),i||(o=J(t,"input",r[4]),i=!0)},p(a,l){l&1&&G(t.value)!==a[0]&&R(t,a[0])},d(a){a&&h(e),i=!1,o()}}}function Le(r){let e,s;return{c(){e=v("span"),s=T(r[1]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var t=E(e);s=q(t,r[1]),t.forEach(h),this.h()},h(){d(e,"class","annot")},m(n,t){N(n,e,t),m(e,s)},p(n,t){t&2&&Y(s,n[1])},d(n){n&&h(e)}}}function Ve(r){let e,s,n,t,i,o;return{c(){e=v("label"),s=v("span"),n=D(),t=v("input"),this.h()},l(a){e=y(a,"LABEL",{class:!0});var l=E(e);s=y(l,"SPAN",{class:!0}),E(s).forEach(h),n=S(l),t=y(l,"INPUT",{type:!0,class:!0,min:!0}),l.forEach(h),this.h()},h(){d(s,"class","input__label"),d(t,"type","number"),d(t,"class","input__value"),d(t,"min",0),d(e,"class","input")},m(a,l){N(a,e,l),m(e,s),m(e,n),m(e,t),R(t,r[1]),i||(o=J(t,"input",r[5]),i=!0)},p(a,l){l&2&&G(t.value)!==a[1]&&R(t,a[1])},d(a){a&&h(e),i=!1,o()}}}function Te(r){let e,s,n,t,i,o,a,l,u,f,b,V,_,I,c,p,P,B,H;function Z(k,g){return g&8&&(_=null),_==null&&(_=!!X(k[3])),_?Ae:Se}let M=Z(r,-1),w=M(r);function $(k,g){return g&8&&(H=null),H==null&&(H=!!X(k[3])),H?Ve:Le}let O=$(r,-1),C=O(r);return{c(){e=v("div"),s=v("h2"),n=T(r[2]),t=D(),i=v("img"),a=D(),l=v("div"),u=v("div"),f=v("h3"),b=T("Level"),V=D(),w.c(),I=D(),c=v("div"),p=v("h3"),P=T("Promotions"),B=D(),C.c(),this.h()},l(k){e=y(k,"DIV",{class:!0});var g=E(e);s=y(g,"H2",{});var x=E(s);n=q(x,r[2]),x.forEach(h),t=S(g),i=y(g,"IMG",{src:!0,alt:!0}),a=S(g),l=y(g,"DIV",{class:!0});var U=E(l);u=y(U,"DIV",{});var j=E(u);f=y(j,"H3",{});var ee=E(f);b=q(ee,"Level"),ee.forEach(h),V=S(j),w.l(j),j.forEach(h),I=S(U),c=y(U,"DIV",{});var F=E(c);p=y(F,"H3",{});var le=E(p);P=q(le,"Promotions"),le.forEach(h),B=S(F),C.l(F),F.forEach(h),U.forEach(h),g.forEach(h),this.h()},h(){te(i.src,o=`/assets/icons/${r[2]}.webp`)||d(i,"src",o),d(i,"alt",r[2]),d(l,"class","fields svelte-s28ftu"),d(e,"class","card svelte-s28ftu")},m(k,g){N(k,e,g),m(e,s),m(s,n),m(e,t),m(e,i),m(e,a),m(e,l),m(l,u),m(u,f),m(f,b),m(u,V),w.m(u,null),m(l,I),m(l,c),m(c,p),m(p,P),m(c,B),C.m(c,null)},p(k,[g]){g&4&&Y(n,k[2]),g&4&&!te(i.src,o=`/assets/icons/${k[2]}.webp`)&&d(i,"src",o),g&4&&d(i,"alt",k[2]),M===(M=Z(k,g))&&w?w.p(k,g):(w.d(1),w=M(k),w&&(w.c(),w.m(u,null))),O===(O=$(k,g))&&C?C.p(k,g):(C.d(1),C=O(k),C&&(C.c(),C.m(c,null)))},i:z,o:z,d(k){k&&h(e),w.d(),C.d()}}}function qe(r,e,s){let n;_e(r,be,u=>s(3,n=u));let{level:t}=e,{promotions:i}=e,{name:o}=e;function a(){t=G(this.value),s(0,t),s(1,i)}function l(){i=G(this.value),s(1,i),s(0,t)}return r.$$set=u=>{"level"in u&&s(0,t=u.level),"promotions"in u&&s(1,i=u.promotions),"name"in u&&s(2,o=u.name)},r.$$.update=()=>{r.$$.dirty&3&&(t>20&&s(0,t=20),t<1&&s(0,t=1),i<0&&s(1,i=0))},[t,i,o,n,a,l]}class ze extends ce{constructor(e){super(),ue(this,e,qe,Te,fe,{level:0,promotions:1,name:2})}}function ae(r,e,s){const n=r.slice();return n[10]=e[s].value,n[11]=e,n[12]=s,n}function Be(r){let e,s,n=X(r[2])&&r[0].length!=0,t,i,o,a,l;const u=r[6].default,f=ye(u,r,r[5],null);let b=n&&re(r);const V=[Oe,Me],_=[];function I(c,p){return c[0].length==0?0:1}return o=I(r),a=_[o]=V[o](r),{c(){e=v("div"),f&&f.c(),s=D(),b&&b.c(),t=D(),i=v("div"),a.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var p=E(e);f&&f.l(p),s=S(p),b&&b.l(p),p.forEach(h),t=S(c),i=y(c,"DIV",{class:!0});var P=E(i);a.l(P),P.forEach(h),this.h()},h(){d(e,"class","tabs svelte-1670pxl"),d(i,"class","classes svelte-1670pxl")},m(c,p){N(c,e,p),f&&f.m(e,null),m(e,s),b&&b.m(e,null),N(c,t,p),N(c,i,p),_[o].m(i,null),l=!0},p(c,p){f&&f.p&&(!l||p&32)&&ge(f,u,c,c[5],l?Ee(u,c[5],p,null):ke(c[5]),null),p&5&&(n=X(c[2])&&c[0].length!=0),n?b?b.p(c,p):(b=re(c),b.c(),b.m(e,null)):b&&(b.d(1),b=null);let P=o;o=I(c),o===P?_[o].p(c,p):(K(),L(_[P],1,1,()=>{_[P]=null}),Q(),a=_[o],a?a.p(c,p):(a=_[o]=V[o](c),a.c()),A(a,1),a.m(i,null))},i(c){l||(A(f,c),A(a),l=!0)},o(c){L(f,c),L(a),l=!1},d(c){c&&h(e),f&&f.d(c),b&&b.d(),c&&h(t),c&&h(i),_[o].d()}}}function He(r){let e,s;return e=new De({}),{c(){pe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,t){me(e,n,t),s=!0},p:z,i(n){s||(A(e.$$.fragment,n),s=!0)},o(n){L(e.$$.fragment,n),s=!1},d(n){de(e,n)}}}function re(r){let e,s,n,t;return{c(){e=v("button"),s=T("Save"),this.h()},l(i){e=y(i,"BUTTON",{class:!0,title:!0});var o=E(e);s=q(o,"Save"),o.forEach(h),this.h()},h(){d(e,"class","button button--alt"),d(e,"title","Saves any changes made to the classes")},m(i,o){N(i,e,o),m(e,s),n||(t=J(e,"click",r[3]),n=!0)},p:z,d(i){i&&h(e),n=!1,t()}}}function Me(r){let e,s,n=r[0],t=[];for(let o=0;o<n.length;o+=1)t[o]=ie(ae(r,n,o));const i=o=>L(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=W()},l(o){for(let a=0;a<t.length;a+=1)t[a].l(o);e=W()},m(o,a){for(let l=0;l<t.length;l+=1)t[l].m(o,a);N(o,e,a),s=!0},p(o,a){if(a&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const u=ae(o,n,l);t[l]?(t[l].p(u,a),A(t[l],1)):(t[l]=ie(u),t[l].c(),A(t[l],1),t[l].m(e.parentNode,e))}for(K(),l=n.length;l<t.length;l+=1)i(l);Q()}},i(o){if(!s){for(let a=0;a<n.length;a+=1)A(t[a]);s=!0}},o(o){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)L(t[a]);s=!1},d(o){Ie(t,o),o&&h(e)}}}function Oe(r){let e,s,n,t,i,o;return{c(){e=v("div"),s=v("h2"),n=T("Classes not initialized"),t=D(),i=v("p"),o=T(`This account classes have not yet been created. In order to\r
                    create the classes the player must have completed the class\r
                    selection screen for first time opening multiplayer`),this.h()},l(a){e=y(a,"DIV",{});var l=E(e);s=y(l,"H2",{});var u=E(s);n=q(u,"Classes not initialized"),u.forEach(h),t=S(l),i=y(l,"P",{class:!0});var f=E(i);o=q(f,`This account classes have not yet been created. In order to\r
                    create the classes the player must have completed the class\r
                    selection screen for first time opening multiplayer`),f.forEach(h),l.forEach(h),this.h()},h(){d(i,"class","text text--wrapped")},m(a,l){N(a,e,l),m(e,s),m(s,n),m(e,t),m(e,i),m(i,o)},p:z,i:z,o:z,d(a){a&&h(e)}}}function ie(r){let e,s,n,t;function i(l){r[7](l,r[10])}function o(l){r[8](l,r[10])}let a={name:r[10].name};return r[10].level!==void 0&&(a.level=r[10].level),r[10].promotions!==void 0&&(a.promotions=r[10].promotions),e=new ze({props:a}),se.push(()=>ne(e,"level",i)),se.push(()=>ne(e,"promotions",o)),{c(){pe(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,u){me(e,l,u),t=!0},p(l,u){r=l;const f={};u&1&&(f.name=r[10].name),!s&&u&1&&(s=!0,f.level=r[10].level,oe(()=>s=!1)),!n&&u&1&&(n=!0,f.promotions=r[10].promotions,oe(()=>n=!1)),e.$set(f)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Ue(r){let e,s,n,t;const i=[He,Be],o=[];function a(l,u){return l[1]?0:1}return e=a(r),s=o[e]=i[e](r),{c(){s.c(),n=W()},l(l){s.l(l),n=W()},m(l,u){o[e].m(l,u),N(l,n,u),t=!0},p(l,[u]){let f=e;e=a(l),e===f?o[e].p(l,u):(K(),L(o[f],1,1,()=>{o[f]=null}),Q(),s=o[e],s?s.p(l,u):(s=o[e]=i[e](l),s.c()),A(s,1),s.m(n.parentNode,n))},i(l){t||(A(s),t=!0)},o(l){L(s),t=!1},d(l){o[e].d(l),l&&h(n)}}}function je(r,e,s){let n;_e(r,be,_=>s(2,n=_));let{$$slots:t={},$$scope:i}=e,{playerId:o}=e,a=[],l=!0;async function u(){s(1,l=!0),console.debug("Loading classes");let _;try{_=await Pe(o)}catch(p){console.error(p),s(1,l=!1);return}let I=p=>p.startsWith("class"),c=Object.keys(_).filter(I);s(0,a=[]);for(const p of c){let P=parseInt(p.substring(5)),B=we(_[p]);Number.isNaN(P)||B==null||a.push({index:P,value:B})}s(1,l=!1)}async function f(){s(1,l=!0),console.debug("Saving classes");const _=[];for(const c of a){const p="class"+c.index,P=Ce(c.value);_.push({key:p,value:P})}const I=_.map(c=>Ne(o,c.key,c.value));try{await Promise.all(I)}catch(c){console.error(c)}finally{s(1,l=!1)}}ve(u);function b(_,I){r.$$.not_equal(I.level,_)&&(I.level=_,s(0,a))}function V(_,I){r.$$.not_equal(I.promotions,_)&&(I.promotions=_,s(0,a))}return r.$$set=_=>{"playerId"in _&&s(4,o=_.playerId),"$$scope"in _&&s(5,i=_.$$scope)},[a,l,n,f,o,i,t,b,V]}class Xe extends ce{constructor(e){super(),ue(this,e,je,Ue,fe,{playerId:4})}}export{Xe as C};
